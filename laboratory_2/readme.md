# Лабораторная работа №2. Управляющие конструкции

## Цель работы

Освоить использование условных конструкций и циклов в PHP.

## Условие

### Условные конструкции

1. Используя функцию date(), создайте таблицу с расписанием, формируемым на основе текущего дня недели.

    - Для John Styles (xx - xx):
        - Если текущий день недели — понедельник, среда или пятница, выведите график работы 8:00-12:00.
        - В остальные дни недели выведите текст: Нерабочий день.
    - Для Jane Doe (yy - yy):
        - Если текущий день недели — вторник, четверг или суббота, выведите график работы 12:00-16:00.
        - В остальные дни недели выведите текст: Нерабочий день.

### Циклы

1. Создайте файл index.php со следующим кодом:

    ```php
    <?php

    $a = 0;
    $b = 0;

    for ($i = 0; $i <= 5; $i++) {
    $a += 10;
    $b += 5;
    }

    echo "End of the loop: a = $a, b = $b";
    ```

2. Добавьте вывод промежуточных значений $a и $b на каждом шаге цикла.

3. Перепишите этот цикл, используя оператор while и do-while.

## Решение

### Рабочий график

Для реализации таблицы графиков для начала необходимо создать разметку

```php
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Table</title>
</head>
<body>
    <table border="1" width="100%" cellspacing="0" cellpadding="4">
        <thead>
            <tr>
                <th>№</th>
                <th>Фамилия Имя</th>
                <th>График работы</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td>John Styles</td>
                <td><?= $johnSchedule ?></td>
            </tr>
            <tr>
                <td>2</td>
                <td>Jane Doe</td>
                <td><?= $janeSchedule ?></td>
            </tr>
        </tbody>
    </table>
</body>
</html>
```

В качастве графиков работы я буду использовать переменные `$johnSchedule` и `$janeSchedule`

Далее необходимо получить сегодняшний день недели

```php
$dateOfWeek = (int) date("N");
```

Данная строка даст нам день недели от `1` до `7`, начиная с `Понедельника`

Далее основываясь на день недели необходимо определить график рабочих

```php
$johnSchedule = match ($dateOfWeek) {
    1, 3, 5 => "8:00-12:00",
    default => "Нерабочий день",
};

$janeSchedule = match ($dateOfWeek) {
    2, 4, 6 => "12:00-16:00",
    default => "Нерабочий день",
};
```

При помощи конструкции `match` можно найти совпадения по значению, тем самым освободив нас от нежелательных цепочек сравнения в `if`

Альтернативный способ с использованием `in_array`

```php
in_array($dateOfWeek, [1, 3, 5])
```

Что вернет булево значение рабочего дня

### Разновидности циклов

```php
<?php

$a = 0;
$b = 0;

for ($i = 0; $i <= 5; $i++) {
    echo "a = $a, b = $b \n";
    $a += 10;
    $b += 5;
}

echo "End of the loop: a = $a, b = $b \n";

$i = 0;
$a = 0;
$b = 0;

while ($i <= 5) {
    echo "a = $a, b = $b \n";
    $a += 10;
    $b += 5;
    $i++;
}

echo "End of the loop: a = $a, b = $b \n";

$i = 0;
$a = 0;
$b = 0;

do {
    echo "a = $a, b = $b \n";
    $a += 10;
    $b += 5;
    $i++;
} while ($i <= 5);

echo "End of the loop: a = $a, b = $b \n";
```

## Контрольные вопросы

> **Q:** В чем разница между циклами for, while и do-while? В каких случаях лучше использовать каждый из них??  
> **A:** Разница в синтаксисе и небольшая разница в работе
>
> - Цикл `for` инициализирует, сравнивает, увеличивает в своей декларации
> - Цикл `while` только сравнивает
> - `do-while` как и `while`, однако он гарантирует выполнение одного цикла
>
> - Цикл `while` лучше всего использовать когда у нас уже есть условие выполнения цикла и условие его окончания
> - Цикл `do-while` как и `while`, но только если нам необходим гарант на выполнение одного цикла
> - Цикл `for` для всех остальных случаев

---

> **Q:** Как работает тернарный оператор ? : в PHP?  
> **A:** Делится на `3` части
>
> 1. Условие
> 2. Возвращаемое значение верного условия
> 3. Возвращаемое значение неверного условия

---

> **Q:** Что произойдет, если в do-while поставить условие, которое изначально ложно??  
> **A:** Поскольку цикл `do-while` гарантирует выполнение одного цикла, то даже ложное условие выполнится минимум один раз
